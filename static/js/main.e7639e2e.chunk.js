(this["webpackJsonpmultiple-timers"]=this["webpackJsonpmultiple-timers"]||[]).push([[0],{152:function(e,t,n){"use strict";n.r(t);var i=n(37),r=n.n(i),c=n(89),a=n.n(c),o=n(14),s=n(99),u=n(9),l=n(102),d=n(0),j=n(103),m=n(211),b=n(210),f=n(201),p=n(209),O=n(218),h=n(105),x=n.n(h),g=n.p+"static/media/Leapfrog.00b4adbd.ogg",v=n(56),y=n.n(v);function S(e){return e.substring(0,e.lastIndexOf(" "))}function w(e,t){if(!e||null===e)return I();var n=new Date,i=e.getHours()*Math.pow(60,2)+60*e.getMinutes()+e.getSeconds();return t?i:i?(n.setSeconds(n.getSeconds()+i),n):null}function I(){var e=new Date;return e.setHours(0,0,0,0),e}var T=n(1);function k(e){var t=e.id,n=e.removeTimer;return Object(T.jsxs)("div",{className:"title-bar",children:[Object(T.jsx)("h2",{children:S(t)}),Object(T.jsx)(O.a,{"aria-label":"delete",color:"default",onClick:function(){localStorage.removeItem("input ".concat(t)),n()},children:Object(T.jsx)(x.a,{})})]})}var E=n(106),L=n.n(E),C=n(107),N=n.n(C),_=n(108),B=n.n(_);function R(e){var t=e.pause,n=e.resume,i=e.restart,r=e.isRunning,c=e.clockValues,a=e.input,o=e.id;return Object(T.jsxs)("div",{className:"buttons",children:[Object(T.jsx)(O.a,{onClick:function(){if(r())t();else if(c().every((function(e){return Boolean(e)})))n();else{var e=w(a());if(!e)return;i(e)}},id:"button_"+o,children:r()?Object(T.jsx)(N.a,{}):Object(T.jsx)(L.a,{})}),Object(T.jsx)(O.a,{onClick:function(){var e=w(a());i(e),t()},children:Object(T.jsx)(B.a,{})})]})}n(97);function F(e){var t=e.expiryTimestamp,n=e.updateTimeoutSeconds,i=e.removeTimer,r=e.id,c=e.isHidden,a=e.timerListNextTimer,o=Object(j.useTimer)({autoStart:!1,expiryTimestamp:t,onExpire:function(){v(),function(e,t){y.a.close();var n=new Audio(g);n.loop=!0,n.play(),y.a.fire({title:"".concat(S(e),"'s done"),icon:"success"}).then((function(){n.loop=!1,n.pause(),t()}))}(r,(function(){if(void 0===a)return console.log(document.getElementById("play-all-button").disabled),document.getElementById("play-all-button").disabled=!1,void console.log(document.getElementById("play-all-button").disabled);document.getElementById("button_"+a).click()}))}}),s=o.seconds,O=o.minutes,h=o.hours,x=o.isRunning,v=o.pause,E=o.resume,L=o.restart,C=[h,O,s],N=Object(d.useState)(function(e){var t=localStorage.getItem("input ".concat(e));return"null"!==t&&t?new Date(JSON.parse(t.toString())):I()}(r)),_=Object(u.a)(N,2),B=_[0],F=_[1];if(Object(d.useEffect)((function(){localStorage.setItem("input ".concat(r),JSON.stringify(B)),n(w(B,!0));var e=w(B);L(e),v()}),[B]),c)return Object(T.jsx)(T.Fragment,{});function H(){return Object(T.jsxs)("div",{className:"clock buttons",children:[Object(T.jsx)("div",{className:"actual-timer",children:C.map((function(e,t){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{children:e<10?"0".concat(e):e}),t===C.length-1?"":":"]})}))}),Object(T.jsx)(R,{pause:function(){return v()},resume:function(){return E()},restart:function(e){return L(e)},isRunning:function(){return x},clockValues:function(){return C},input:function(){return B},id:r})]})}return Object(T.jsxs)("section",{className:"wrapper",children:[Object(T.jsx)(k,{id:r,removeTimer:i}),Object(T.jsx)(f.b,{dateAdapter:b.a,children:Object(T.jsx)(p.a,{ampm:!1,ampmInClock:!1,views:["hours","minutes","seconds"],inputFormat:"HH:mm:ss",mask:"__:__:__",label:"INSERT TIME HERE",value:B,onChange:function(e){F(e)},renderInput:function(e){return Object(T.jsx)(m.a,Object(l.a)({onKeyDown:function(e){if("Enter"===e.key){var t=w(B);L(t)}}},e))}})}),Object(T.jsx)(H,{}),Object(T.jsx)("hr",{})]})}var H=n(5),J=n(198),D=n(216),M=n(215),A=n(217),V=n(20),K=n(110),P=n.n(K);function G(e){var t=e.createTimer;return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(O.a,{onClick:function(){t()},children:Object(T.jsx)(P.a,{style:{color:"white"}})})})}var Y=Object(H.a)("div")((function(e){var t=e.theme;return{position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(J.a)(t.palette.common.white,0),marginLeft:0,width:"100%"}})),q=Object(H.a)("div")((function(e){return{paddingRight:e.theme.spacing(1),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),z=Object(H.a)(V.c)((function(e){var t=e.theme;return{color:"inherit",width:"100%","& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"}}}));function Q(e){var t=e.createTimer,n=e.changeInputFilter,i=(e.sortList,Object(d.useState)("")),r=Object(u.a)(i,2),c=r[0],a=r[1];return Object(d.useEffect)((function(){n(c)}),[c]),Object(T.jsx)(M.a,{sx:{flexGrow:1,width:"100%"},children:Object(T.jsx)(D.a,{position:"static",children:Object(T.jsxs)(A.a,{children:[Object(T.jsxs)(Y,{children:[Object(T.jsx)(q,{}),Object(T.jsx)(z,{onChange:function(e){return a(e.target.value)},placeholder:"Click + to add timers",inputProps:{"aria-label":"search"},onKeyDown:function(e){"Escape"===e.key&&(e.target.value="",a(""))}})]}),Object(T.jsx)(G,{createTimer:t})]})})})}var U=n(219);function W(e){var t=e.timerList,n=Object(d.useState)(!1),i=Object(u.a)(n,2),r=i[0],c=i[1];return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(U.a,{onClick:function(){c(!0),document.getElementById("button_"+t[0].id).click()},disabled:r,id:"play-all-button",variant:"contained",color:"success",children:"Play All"})})}function X(){var e=Object(d.useState)(function(){var e=localStorage.getItem("timerList");return e&&e!==[]?JSON.parse(e.toString()):[]}()),t=Object(u.a)(e,2),n=t[0],i=t[1],r=Object(d.useState)(""),c=Object(u.a)(r,2),l=c[0],j=c[1];function m(){return(m=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.fire({title:"Enter timer's name",input:"text",inputValidator:function(e){if(!e)return"You need to write something!"}}).then((function(e){e.value&&i((function(t){return[].concat(Object(o.a)(t),[{timeoutSeconds:0,id:"".concat(e.value," ").concat(t.length),expiryTimestamp:0}])}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)((function(){localStorage.setItem("timerList",JSON.stringify(n))}),[n]),Object(T.jsxs)("div",{id:"main",children:[Object(T.jsx)(Q,{createTimer:function(){return function(){return m.apply(this,arguments)}()},changeInputFilter:function(e){return j(e)}}),n.map((function(e,t){var r;return Object(T.jsx)(F,{id:e.id,isHidden:!e.id.substring(0,e.id.lastIndexOf(" ")).toLocaleLowerCase().includes(l.toLocaleLowerCase()),expiryTimestamp:e.expiryTimestamp,removeTimer:function(){return function(e){i((function(t){return t.filter((function(t){return t.id!==e.id}))}))}(e)},updateTimeoutSeconds:function(t){return function(e,t){var r=Object(o.a)(n),c=r.findIndex((function(t){return t.id===e.id}));r[c].timeoutSeconds=t,i(r)}(e,t)},timerListNextTimer:null===(r=n[t+1])||void 0===r?void 0:r.id},e.id)})),Object(T.jsx)(W,{timerList:n})]})}r.a.render(Object(T.jsx)(X,{}),document.getElementById("root"))},97:function(e,t,n){}},[[152,1,2]]]);
//# sourceMappingURL=main.e7639e2e.chunk.js.map